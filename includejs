#!/usr/bin/env node

!function(w) {

	require('./node/app.help.js');    
	require('./src/libjs/class.js');
	require('./src/libjs/include.node.js');

    var program = require('commander');


	include.cfg({
		path: 'file:///' + process.cwd() + '/',
        lockedToFolder: true
	}).routes({
		framework: '/src/libjs/{0}.js',
		handler: '/src/handler/{0}.js',
		parser: '/src/parser/{0}.js',
		action: '/src/action/{0}.js',
		script: '/src/{0}.js',
        helper: '/src/helper/{0}.js'
	}).js({
		framework: ['net/uri', 'utils', 'arr'],
		script: [ //
		'sys', //
		'helpers', //
		'handler/io', //
		],

	}).done(function() {
		switch (program.args[0]) {
		case '':
		case null:
			return console.error("Invalid Arguments Count");
		case 'template':
			include.js('/src/action/template.js');
			break;
		case 'reference':
			include.js('/src/action/reference.js');
			break;
		case 'globals':
			require('openurl').open(io.env.applicationDir.combine('globals.txt').toString());
			break;
		case 'git-clone':
			include.js('/src/action/gitclone.js');
			break;
		default:
			include.js('/src/project/solutionWorker.js');
			break;
		}
		return 1;
	});


}(global.window || (global.window = global));